@import "tailwindcss";

/* =========================
   THEME TOKENS (OKLCH palette'e bağlanır)
   ========================= */
:root{
    --background: var(--color-zinc-100);
    --foreground: var(--color-zinc-950);
    --border: var(--color-zinc-200);
    --muted-foreground: var(--color-gray-500);
    --secondary-foreground: var(--color-zinc-950);
}

.dark{
    --background: var(--color-zinc-950);
    --foreground: var(--color-zinc-100);
    --border: color-mix(in oklab, var(--color-zinc-100) 12%, var(--color-zinc-950));
    --muted-foreground: var(--color-gray-500);
    --secondary-foreground: var(--color-zinc-100);
}

@theme {
    --font-sans: 'Instrument Sans', ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji',
    'Segoe UI Symbol', 'Noto Color Emoji';
}

/* =========================
   BASE
   ========================= */
@layer base {
    html { scroll-behavior: smooth; }

    body {
        background: var(--background);
        color: var(--foreground);
        text-rendering: optimizeLegibility;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }
}

/* =========================
   COMPONENTS
   ========================= */
@layer components {

    /* Theme Button Styles */
    .kt-btn {
        @apply inline-flex items-center justify-center rounded-lg px-4 py-2 text-sm font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2;
    }

    .kt-btn-primary {
        @apply text-white hover:opacity-95;
        background: var(--color-violet-600);
    }

    .kt-btn-outline {
        border: 1px solid var(--border);
        background: transparent;
        color: var(--foreground);
    }

    .kt-btn-outline:hover {
        background: color-mix(in oklab, var(--foreground) 4%, var(--background));
    }

    .kt-btn-ghost {
        background: transparent;
        color: var(--foreground);
    }

    .kt-btn-ghost:hover {
        background: color-mix(in oklab, var(--foreground) 4%, var(--background));
    }

    .kt-btn-icon { @apply p-2; }
    .kt-btn-sm { @apply px-3 py-1.5 text-xs; }

    /* Card Styles */
    .kt-card{
        background: var(--background);
        border: 1px solid var(--border);
        border-radius: .75rem;
        box-shadow: var(--tw-shadow-sm);
    }

    .kt-card-header{
        display:flex; align-items:center; justify-content:space-between;
        padding: 1.25rem;
        border-bottom: 1px solid var(--border);
    }

    .kt-card-footer{
        display:flex; align-items:center; justify-content:space-between;
        padding: 1.25rem;
        border-top: 1px solid var(--border);
    }

    .kt-card-title{
        color: var(--foreground);
        font-weight: 600;
    }

    .kt-card-content { @apply p-5; }

    /* Menu Styles */
    .kt-menu{
        background: var(--background);
        border: 1px solid var(--border);
        border-radius: .75rem;
        box-shadow: var(--tw-shadow-lg);
    }

    .kt-menu-item { @apply relative; }

    .kt-menu-link{
        @apply flex items-center px-4 py-2 text-sm transition-colors;
        color: var(--foreground);
    }

    .kt-menu-link:hover{
        background: color-mix(in oklab, var(--foreground) 4%, var(--background));
    }

    .kt-menu-icon{
        @apply w-5 h-5 mr-3;
        color: var(--muted-foreground);
    }

    .kt-menu-title{ @apply flex-1; }
    .kt-menu-arrow{ @apply ml-auto; }

    /* Container Styles */
    .kt-container-fixed { @apply container mx-auto px-4 lg:px-8; }

    /* Header Styles */
    .kt-header{
        background: var(--background);
        border-bottom: 1px solid var(--border);
    }

    /* Wrapper Styles */
    .kt-wrapper { @apply min-h-0; }

    /* Link Styles */
    .kt-link { @apply font-medium transition-colors; color: var(--color-blue-700); }
    .kt-link:hover { color: var(--color-blue-700); opacity: .9; }

    .kt-link-underlined { @apply underline; }
    .kt-link-dashed { border-bottom: 1px dashed currentColor; }

    /* Toggle Group */
    .kt-toggle-group { border: 1px solid var(--border); border-radius: .75rem; display:inline-flex; }
    .kt-toggle-group .kt-btn { @apply rounded-none border-0 first:rounded-l-lg last:rounded-r-lg; }
}

/* =========================
   UTILITIES
   ========================= */
@layer utilities {
    .space-x-2\.5 > * + * { margin-left: 0.625rem; }
    .gap-7\.5 { gap: 1.875rem; }

    .scrollbar-hidden { -ms-overflow-style: none; scrollbar-width: none; }
    .scrollbar-hidden::-webkit-scrollbar { display: none; }
}

/* ===================================================== */
/* DataTables 2.x – Metronic Sort (Highlight + Animasyon) */
/* ===================================================== */

.kt-table thead th { position: relative; }

/* sıralanabilir kolon */
.kt-table thead th.dt-orderable-asc,
.kt-table thead th.dt-orderable-desc { cursor: pointer; }

/* aktif sıralanan kolonun arka planı */
.kt-table thead th.dt-ordering-asc,
.kt-table thead th.dt-ordering-desc {
    background-color: rgba(62, 151, 255, 0.06);
}

/* başlık metni hafif vurgulansın */
.kt-table thead th.dt-ordering-asc .dt-column-title,
.kt-table thead th.dt-ordering-desc .dt-column-title {
    color: var(--kt-primary, #3e97ff);
    font-weight: 600;
}

/* ok alanı */
.kt-table thead th .dt-column-order {
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 18px;
    height: 18px;
    margin-left: 10px;
    vertical-align: middle;
    opacity: .6;
    transition: opacity .15s ease, transform .18s ease, color .15s ease;
    color: var(--muted-foreground);
}

/* pasif ↕ */
.kt-table thead th.dt-orderable-asc .dt-column-order::after,
.kt-table thead th.dt-orderable-desc .dt-column-order::after {
    content: "↕";
    font-size: 14px;
    line-height: 1;
}

/* hover animasyonu */
.kt-table thead th.dt-orderable-asc:hover .dt-column-order,
.kt-table thead th.dt-orderable-desc:hover .dt-column-order {
    opacity: .9;
    transform: translateY(-1px);
}

/* aktif ASC */
.kt-table thead th.dt-ordering-asc .dt-column-order::after {
    content: "↑";
    font-size: 15px;
    color: var(--color-violet-600);
    opacity: 1;
    animation: dt-sort-bounce-up .25s ease-out;
}

/* aktif DESC */
.kt-table thead th.dt-ordering-desc .dt-column-order::after {
    content: "↓";
    font-size: 15px;
    color: var(--color-violet-600);
    opacity: 1;
    animation: dt-sort-bounce-down .25s ease-out;
}

.kt-table thead th.dt-orderable-none { cursor: default; }
th.dt-orderable-none .dt-column-order{ display:none !important; }

/* DataTables header: yatay + dikey ortala */
table.kt-table thead th {
    vertical-align: middle !important;
    padding-top: 0.75rem;
    padding-bottom: 0.75rem;
}

table.kt-table thead th .dt-column-header {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: .5rem;
    width: 100%;
}
table.kt-table thead th .dt-column-order { margin-left: 0 !important; }

table.kt-table thead th .dt-column-title {
    text-align: center;
    width: auto;
}

@keyframes dt-sort-bounce-up {
    0%   { transform: translateY(2px); opacity: .4; }
    100% { transform: translateY(0);   opacity: 1; }
}
@keyframes dt-sort-bounce-down {
    0%   { transform: translateY(-2px); opacity: .4; }
    100% { transform: translateY(0);    opacity: 1; }
}

/* JS gelene kadar enhanced blok gizli */
html.js-loading [data-js-hide-until-ready] { visibility: hidden; }
html.js-ready   [data-js-hide-until-ready] { visibility: visible; }

/* ===== App Loading State (single source of truth) ===== */
html.js-loading { overflow: hidden; }

/* App Lock Overlay */
.app-lock{
    position: fixed;
    inset: 0;
    z-index: 9999;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(0,0,0,.08);
    backdrop-filter: blur(6px);
}

html.js-loading .app-lock{
    opacity: 1;
    pointer-events: auto;
    transition: opacity .15s ease;
}

html.js-ready .app-lock{
    opacity: 0;
    pointer-events: none;
}

.app-lock__panel{
    padding: 1rem 1.25rem;
    border-radius: 1rem;
}

/* Lock spinner – bağımsız, garanti */
.app-lock-spinner {
    width: 28px;
    height: 28px;
    border-radius: 9999px;
    border: 3px solid rgb(38 186 243 / 58%);
    border-top-color: rgb(255 254 254 / 55%);
    animation: app-lock-spin .9s linear infinite;
}

@keyframes app-lock-spin { to { transform: rotate(360deg); } }

/* Optional: hide specific enhanced blocks until ready */
html.js-loading [data-js-hide-until-ready] { visibility: hidden; }
html.js-ready   [data-js-hide-until-ready] { visibility: visible; }

table.dt-kt-header-center thead th { vertical-align: middle; }
table.dt-kt-header-center thead th .dt-column-header { display:flex; align-items:center; justify-content:center; gap:.35rem; }
table.dt-kt-header-center thead th.text-right .dt-column-header { justify-content:flex-end; }
table.dt-kt-header-center thead th.text-left .dt-column-header { justify-content:flex-start; }
thead th.dt-orderable-none .dt-column-order { display:none !important; }
@import "./kt-btn-bootstrap.css";
